<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ndarray-js</title><meta name="description" content="Documentation for ndarray-js"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><link rel="stylesheet" href="assets/my-theme.css"/><script defer src="assets/main.js"></script><script async src="assets/search.js" id="search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><link rel="stylesheet" href="assets/hierarchy.css"/></head><body><script>console.log(`Loaded ${location.href}`)</script><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">ndarray-js - v</a><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div></div><div class="table-cell" id="tsd-widgets"><a href="src/template/toolbar#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>ndarray-js</h2></div><div class="tsd-panel tsd-typography"><a id="md:welcome-to-the-documentation-of-ndarray-js" class="tsd-anchor"></a><h1><a href="#md:welcome-to-the-documentation-of-ndarray-js">Welcome to the documentation of ndarray-js</a></h1><p>ndarray-js is a reimplementation of numpy for javascript that aims to make the coding experience as similar to numpy as possible.
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6/dist/plot.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/ndarray-js@1.0.0/dist/index.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/codemirror.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/mode/javascript/javascript.min.js"></script>
  <script>
    var __console_log = console.log;
    var __log_elem = null;
    console.log = function(...args){
      __console_log(...args);
      if (__log_elem !== null) {
        ;$(__log_elem).append(args.join(' ') + '\n');
      }
    }
  </script>
  <style>
    .hbox {
      display: flex;
      flex-direction: row;
      justify-content: space-between;
    }
    .vbox {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    svg-outputs{
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
      font-family: &#39;Courier New&#39;, Courier, monospace;
    }
    .justify-start {
      justify-content: flex-start;
    }
  </style></p>
<div class="vbox" style="width:100%">
<!-- 
  <h3>Header:</h3>
  <div style="border: solid 1px black; height: fit-content;">
    <textarea id="codeHeader" disabled="true" style="width: 90vw; height:6.5em"></textarea>
    <script>
      (()=>{
        let scripts = [
          "https://d3js.org/d3.v7.min.js",
          "https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6/dist/plot.umd.min.js",
          "https://cdn.jsdelivr.net/npm/ndarray-js@1.0.0/dist/index.js",
        ].map(s=>'<' + 'script src="' + s + '"' + '>'+'<'+'/'+'script'+'>').join('\n');
        ;$('#codeHeader').text(scripts);
      })();
    </script>
  </div> -->
  <h3>Demo (modify at will):</h3>
  <div style="border: solid 1px black; height: fit-content;">
<textarea id="codeInput" style="height: fit-content !important;">
    </textarea>
    <script>
      (()=>{
        ;$('#codeInput').text(`
// Part 1: data creation
// (ENTER)
var XY = np.random.randn([5000, 2])
var norm = np.norm(XY, { axis: -1, keepdims: true });
console.log(np.allclose(norm, XY.pow(2).sum(-1).index('...', 'None').pow(0.5)));
var XY_unit = XY.op('/', norm);
var angle = 45; // <-- rotate me
var group = np.atan2(XY.index(':', 1), XY.index(':', 0)).multiply(180/np.pi).add(90-angle).abs().greater(90);
// (ENTER)
console.log(\`\\nFirst five points:\\n\${XY.index(\`0:5\`)}\`);
console.log(\`\\nNorm of the first five points (before and after):\`);
console.log(np.stack([norm.index(':', 0), XY_unit.norm(-1)], -1).index(\`0:5\`));
// (ENTER)
// Part 2: plots
var svg = Plot.plot({
  grid: true,
  color: {scheme: "Observable10"},
  aspectRatio: 1, // undefined,
  marks: [
    Plot.dot(XY.tolist().map(([x,y],i)=>({x, y, group:group.index(i)})), {x: "x", y: "y", r:1, stroke:"group"}),
    Plot.dot(XY_unit.tolist().map(([x,y])=>({x, y})), {x: "x", y: "y", r:1, fill:"#b36969"}),
  ]
});
document.querySelector('#svg-outputs').append(svg);
// (ENTER)
var svg = Plot.plot({
  grid: true,
  color: {scheme: "Observable10"},
  marks: [
    Plot.rectY(XY.tolist().map(([x,y], i)=>({x, y, group:group.index(i)})), Plot.binX({y2: "count"}, {x: "x", fill:"group", mixBlendMode: "screen"})),
  ]
});
document.querySelector('#svg-outputs').append(svg);
// (ENTER)
var x = np.linspace(-5, 5, 500)
// alt: var y = np.exp(x.pow(2).negative().divide(2)).multiply(x.shape[0]/np.sqrt(2*np.pi));
var y = np\`np.exp(-\${x}**2 / 2) * \${x.shape[0]/np.sqrt(2*np.pi)}\`;
// (ENTER)
var svg = Plot.plot({
  grid: true,
  color: {scheme: "Observable10"},
  marks: [
    Plot.rectY(XY.tolist().map(([x,y], i)=>({x, y, group:group.index(i)})), Plot.binX({y: "count"}, {x: "x", fill:"group", mixBlendMode: "screen"})),
    Plot.dot(np.stack([x, y], axis=-1).tolist().map(([x,y], i)=>({x, y})), {x: "x", y: "y", r:1}),
  ]
});
document.querySelector('#svg-outputs').append(svg);`.replace(new RegExp('// \\(ENTER\\)', 'g'), ''));
})()
      </script>
  </div>
  <div class="hbox" style="width:100%">
    <div></div>
    <button id="execute-button" style="padding:1em; margin:1em; font-size: large;">Execute</button>
    <div></div>
  </div>
</div>
</div>
<div class="vbox justify-start">
  <div class="vbox">
    <h3>Errors:</h3>
    <textarea disabled="true" id="stderr" cols="50" style="border:none; min-height: 20vh;">
      (error logs will appear here)
    </textarea>
  </div>
  <div class="vbox">
    <h3>Console output:</h3>
    <textarea disabled="true" id="stdout" cols="50" style="border:none; min-height: 20vh;">
      (console.log logs will appear here)
    </textarea>
    <h3>SVG outputs:</h3>
    <div id="svg-outputs">
    </div>
  </div>
</div>
<script>
    ;$('#stderr').parent().hide();
    ;$('#stdout').parent().hide();
    var codeInput = document.getElementById("codeInput");
    var codeEditor = CodeMirror.fromTextArea(codeInput, {
      mode: "javascript",
      lineNumbers: true,
      theme: "default",
      autoCloseBrackets: true,
      matchBrackets: true,
      height: '60vh', 
    });
    ;
    (()=>{
      let first=true;
      ;$('#execute-button').on('click', ()=>{
        var code = codeEditor.getValue();
        ;$('#stdout').parent().show();
        ;$('#svg-outputs').html('');
        ;$('#stdout').html('');
        ;$('#stderr').html('');
        ;$('#stderr').parent().hide();
        ;$('#stderr').parent().hide();
        __log_elem = $('#stdout');
        try{
          eval(code);
        } catch(e){
          ;$('#stderr').parent().show();
          ;$('#stderr').append(e.stack)
          ;$('#stderr').append('Press F12 for more details')
          throw e;
        }
        if(first){
        window.scrollBy({
          top: 500,
          behavior: 'smooth' // Smooth scrolling animation
        });
        }
        first=false;
      });
    })();
  </script></div></div><div class="col-sidebar"><div class="page-menu"><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><ul><li><ul><li><a href="#md:welcome-to-the-documentation-of-ndarray-js"><span>Welcome to the documentation of ndarray-<wbr/>js</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><div>ndarray-<wbr/>js</div></a><ul class="tsd-small-nested-navigation"><li><a href="classes/NDArray.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-128"></use></svg><div>NDArray</div></a></li><li><a href="types/ArrayOrConstant.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-2097152"></use></svg><div>Array<wbr/>Or<wbr/>Constant</div></a></li><li><a href="types/DType.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-2097152"></use></svg><div>DType</div></a></li><li><a href="variables/__parser_pool.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-32"></use></svg><div>__parser_<wbr/>pool</div></a></li><li><a href="variables/grammar.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-32"></use></svg><div>grammar</div></a></li><li><a href="variables/ohmGrammar.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-32"></use></svg><div>ohm<wbr/>Grammar</div></a></li><li><a href="functions/__makeSemantics.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-64"></use></svg><div>__make<wbr/>Semantics</div></a></li><li><a href="functions/__normal.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-64"></use></svg><div>__normal</div></a></li><li><a href="functions/_shuffle.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-64"></use></svg><div>_shuffle</div></a></li><li><a href="functions/_shuffled.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-64"></use></svg><div>_shuffled</div></a></li><li><a href="functions/arange.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-64"></use></svg><div>arange</div></a></li><li><a href="functions/empty.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-64"></use></svg><div>empty</div></a></li><li><a href="functions/exponential.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-64"></use></svg><div>exponential</div></a></li><li><a href="functions/geomspace.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-64"></use></svg><div>geomspace</div></a></li><li><a href="functions/linspace.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-64"></use></svg><div>linspace</div></a></li><li><a href="functions/normal.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-64"></use></svg><div>normal</div></a></li><li><a href="functions/np.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-64"></use></svg><div>np<div class="menu-item-desc">Namespace for the ndarray-js package.</div></div></a></li><li><a href="functions/ones.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-64"></use></svg><div>ones</div></a></li><li><a href="functions/parse.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-64"></use></svg><div>parse</div></a></li><li><a href="functions/randn.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-64"></use></svg><div>randn</div></a></li><li><a href="functions/random.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-64"></use></svg><div>random</div></a></li><li><a href="functions/shuffle.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-64"></use></svg><div>shuffle</div></a></li><li><a href="functions/shuffled.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-64"></use></svg><div>shuffled</div></a></li><li><a href="functions/uniform.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-64"></use></svg><div>uniform</div></a></li><li><a href="functions/zeros.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-64"></use></svg><div>zeros</div></a></li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/hierarchy.js"></script></body></html>